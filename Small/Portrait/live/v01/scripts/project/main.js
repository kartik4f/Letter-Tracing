
// Import any other script files here, e.g.:
// import AudioManager from "./audioManager.js";
// let audioManager = null;
//

// References to loaded audio files as global variables
// let audios = []

//creator's Name: SKIDOS 
// Developer's Name: Kartik Singh
// import * as lzs from "https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js";


let json_en_gb = {"LockedData":{"header":"Hello!","body":"Subscribe to unlock all the letter and numbers"},"Title":"it's learning time","LangCode":"en_gb","MascotName":"Duck","Subjects":["ABC","123"],"GameData":[{"Subject":"preschool","SubSubject":"ABC","LastSubmitted":"","Played":{"a":{"count":0,"locked":false,"letterObjClip":"Letter_image_A","phoneticClip":"Letter_Phonic_A","mainAudioClip":"A Speech","imageName":"Apple","objectName":"apple"},"b":{"count":0,"locked":false,"letterObjClip":"Letter_image_B","phoneticClip":"Letter_Phonic_B","mainAudioClip":"B Speech","imageName":"Banana","objectName":"banana"},"c":{"count":0,"locked":true,"letterObjClip":"Letter_image_C","phoneticClip":"Letter_Phonic_C","mainAudioClip":"C Speech","imageName":"Cat","objectName":"cat"},"d":{"count":0,"locked":true,"letterObjClip":"Letter_image_D","phoneticClip":"Letter_Phonic_D","mainAudioClip":"D Speech","imageName":"Dog","objectName":"dog"},"e":{"count":0,"locked":true,"letterObjClip":"Letter_image_E","phoneticClip":"Letter_Phonic_E","mainAudioClip":"E Speech","imageName":"Egg","objectName":"egg"},"f":{"count":0,"locked":true,"letterObjClip":"Letter_image_F","phoneticClip":"Letter_Phonic_F","mainAudioClip":"F Speech","imageName":"Fish","objectName":"fish"},"g":{"count":0,"locked":true,"letterObjClip":"Letter_image_G","phoneticClip":"Letter_Phonic_G","mainAudioClip":"G Speech","imageName":"Glasses","objectName":"glasses"},"h":{"count":0,"locked":true,"letterObjClip":"Letter_image_H","phoneticClip":"Letter_Phonic_H","mainAudioClip":"H Speech","imageName":"Heart","objectName":"heart"},"i":{"count":0,"locked":true,"letterObjClip":"Letter_image_I","phoneticClip":"Letter_Phonic_I","mainAudioClip":"I Speech","imageName":"Icecream","objectName":"ice cream"},"j":{"count":0,"locked":true,"letterObjClip":"Letter_image_J","phoneticClip":"Letter_Phonic_J","mainAudioClip":"J Speech","imageName":"Jam","objectName":"jam"},"k":{"count":0,"locked":true,"letterObjClip":"Letter_image_K","phoneticClip":"Letter_Phonic_K","mainAudioClip":"K Speech","imageName":"Key","objectName":"key"},"l":{"count":0,"locked":true,"letterObjClip":"Letter_image_L","phoneticClip":"Letter_Phonic_L","mainAudioClip":"L Speech","imageName":"Lemon","objectName":"lemon"},"m":{"count":0,"locked":true,"letterObjClip":"Letter_image_M","phoneticClip":"Letter_Phonic_M","mainAudioClip":"M Speech","imageName":"Moon","objectName":"moon"},"n":{"count":0,"locked":true,"letterObjClip":"Letter_image_N","phoneticClip":"Letter_Phonic_N","mainAudioClip":"N Speech","imageName":"Nut","objectName":"nut"},"o":{"count":0,"locked":true,"letterObjClip":"Letter_image_O","phoneticClip":"Letter_Phonic_O","mainAudioClip":"O Speech","imageName":"Orange","objectName":"orange"},"p":{"count":0,"locked":true,"letterObjClip":"Letter_image_P","phoneticClip":"Letter_Phonic_P","mainAudioClip":"P Speech","imageName":"Pumpkin","objectName":"pumpkin"},"q":{"count":0,"locked":true,"letterObjClip":"Letter_image_Q","phoneticClip":"Letter_Phonic_Q","mainAudioClip":"Q Speech","imageName":"Queen","objectName":"queen"},"r":{"count":0,"locked":true,"letterObjClip":"Letter_image_R","phoneticClip":"Letter_Phonic_R","mainAudioClip":"R Speech","imageName":"Rainbow","objectName":"rainbow"},"s":{"count":0,"locked":true,"letterObjClip":"Letter_image_S","phoneticClip":"Letter_Phonic_S","mainAudioClip":"S Speech","imageName":"Snail","objectName":"snail"},"t":{"count":0,"locked":true,"letterObjClip":"Letter_image_T","phoneticClip":"Letter_Phonic_T","mainAudioClip":"T Speech","imageName":"Tomato","objectName":"tomato"},"u":{"count":0,"locked":true,"letterObjClip":"Letter_image_U","phoneticClip":"Letter_Phonic_U","mainAudioClip":"U Speech","imageName":"Umbrella","objectName":"umbrella"},"v":{"count":0,"locked":true,"letterObjClip":"Letter_image_V","phoneticClip":"Letter_Phonic_V","mainAudioClip":"V Speech","imageName":"Vase","objectName":"vase"},"w":{"count":0,"locked":true,"letterObjClip":"Letter_image_W","phoneticClip":"Letter_Phonic_W","mainAudioClip":"W Speech","imageName":"Watermelon","objectName":"watermelon"},"x":{"count":0,"locked":true,"letterObjClip":"Letter_image_X","phoneticClip":"Letter_Phonic_X","mainAudioClip":"X Speech","imageName":"Xylophone","objectName":"xylophone"},"y":{"count":0,"locked":true,"letterObjClip":"Letter_image_Y","phoneticClip":"Letter_Phonic_Y","mainAudioClip":"Y Speech","imageName":"Yellow","objectName":"yellow"},"z":{"count":0,"locked":true,"letterObjClip":"Letter_image_Z","phoneticClip":"Letter_Phonic_Z","mainAudioClip":"Z Speech","imageName":"Zebra","objectName":"zebra"}}},{"Subject":"preschool","SubSubject":"123","LastSubmitted":"","Played":{"1":{"count":0,"locked":false,"mainAudioClip":"Number_count_last_01"},"10":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_10"},"11":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_11"},"12":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_12"},"13":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_13"},"14":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_14"},"15":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_15"},"16":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_16"},"17":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_17"},"18":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_18"},"19":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_19"},"2":{"count":0,"locked":false,"mainAudioClip":"Number_count_last_02"},"20":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_20"},"3":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_03"},"4":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_04"},"5":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_05"},"6":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_06"},"7":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_07"},"8":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_08"},"9":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_09"}}}]};
let json_da = {"LockedData":{"header":"Hello!","body":"Subscribe to unlock all the letter and numbers"},"Title":"it's learning time","LangCode":"da","MascotName":"Duck","Subjects":["ABC","123"],"GameData":[{"Subject":"preschool","SubSubject":"ABC","LastSubmitted":"","Played":{"a":{"count":0,"locked":false,"letterObjClip":"Letter_image_A","phoneticClip":"Letter_Phonic_A","mainAudioClip":"A Speech","imageName":"Monkey","objectName":"abe"},"b":{"count":0,"locked":false,"letterObjClip":"Letter_image_B","phoneticClip":"Letter_Phonic_B","mainAudioClip":"B Speech","imageName":"Bear","objectName":"bjørn"},"c":{"count":0,"locked":true,"letterObjClip":"Letter_image_C","phoneticClip":"Letter_Phonic_C","mainAudioClip":"C Speech","imageName":"Lemon","objectName":"citron"},"d":{"count":0,"locked":true,"letterObjClip":"Letter_image_D","phoneticClip":"Letter_Phonic_D","mainAudioClip":"D Speech","imageName":"Dolphin","objectName":"delfin"},"e":{"count":0,"locked":true,"letterObjClip":"Letter_image_E","phoneticClip":"Letter_Phonic_E","mainAudioClip":"E Speech","imageName":"Elephant","objectName":"elefant"},"f":{"count":0,"locked":true,"letterObjClip":"Letter_image_F","phoneticClip":"Letter_Phonic_F","mainAudioClip":"F Speech","imageName":"Frog","objectName":"frø"},"g":{"count":0,"locked":true,"letterObjClip":"Letter_image_G","phoneticClip":"Letter_Phonic_G","mainAudioClip":"G Speech","imageName":"Pig","objectName":"gris"},"h":{"count":0,"locked":true,"letterObjClip":"Letter_image_H","phoneticClip":"Letter_Phonic_H","mainAudioClip":"H Speech","imageName":"Dog","objectName":"hund"},"i":{"count":0,"locked":true,"letterObjClip":"Letter_image_I","phoneticClip":"Letter_Phonic_I","mainAudioClip":"I Speech","imageName":"Polar_Bear","objectName":"isbjørn"},"j":{"count":0,"locked":true,"letterObjClip":"Letter_image_J","phoneticClip":"Letter_Phonic_J","mainAudioClip":"J Speech","imageName":"Strawberry","objectName":"jordbær"},"k":{"count":0,"locked":true,"letterObjClip":"Letter_image_K","phoneticClip":"Letter_Phonic_K","mainAudioClip":"K Speech","imageName":"Kangaroo","objectName":"kænguru"},"l":{"count":0,"locked":true,"letterObjClip":"Letter_image_L","phoneticClip":"Letter_Phonic_L","mainAudioClip":"L Speech","imageName":"Lion","objectName":"løve"},"m":{"count":0,"locked":true,"letterObjClip":"Letter_image_M","phoneticClip":"Letter_Phonic_M","mainAudioClip":"M Speech","imageName":"Moon","objectName":"måne"},"n":{"count":0,"locked":true,"letterObjClip":"Letter_image_N","phoneticClip":"Letter_Phonic_N","mainAudioClip":"N Speech","imageName":"Nut","objectName":"nød"},"o":{"count":0,"locked":true,"letterObjClip":"Letter_image_O","phoneticClip":"Letter_Phonic_O","mainAudioClip":"O Speech","imageName":"Olive","objectName":"oliven"},"p":{"count":0,"locked":true,"letterObjClip":"Letter_image_P","phoneticClip":"Letter_Phonic_P","mainAudioClip":"P Speech","imageName":"Parrot","objectName":"papegøje"},"q":{"count":0,"locked":true,"letterObjClip":"Letter_image_Q","phoneticClip":"Letter_Phonic_Q","mainAudioClip":"Q Speech","imageName":"Quiz","objectName":"quiz"},"r":{"count":0,"locked":true,"letterObjClip":"Letter_image_R","phoneticClip":"Letter_Phonic_R","mainAudioClip":"R Speech","imageName":"Rainbow","objectName":"regnbue"},"s":{"count":0,"locked":true,"letterObjClip":"Letter_image_S","phoneticClip":"Letter_Phonic_S","mainAudioClip":"S Speech","imageName":"Sun","objectName":"sol"},"special_a_dot":{"count":0,"locked":true,"letterObjClip":"Letter_image_special_a_dot","phoneticClip":"Letter_Phonic_special_a_dot","mainAudioClip":"special_a_dot Speech","imageName":"Eel","objectName":"ål"},"special_ae":{"count":0,"locked":true,"letterObjClip":"Letter_image_special_ae","phoneticClip":"Letter_Phonic_special_ae","mainAudioClip":"special_ae Speech","imageName":"Apple","objectName":"æble"},"special_o":{"count":0,"locked":true,"letterObjClip":"Letter_image_special_o","phoneticClip":"Letter_Phonic_special_o","mainAudioClip":"special_o Speech","imageName":"Eyes","objectName":"øje"},"t":{"count":0,"locked":true,"letterObjClip":"Letter_image_T","phoneticClip":"Letter_Phonic_T","mainAudioClip":"T Speech","imageName":"Tomato","objectName":"tomat"},"u":{"count":0,"locked":true,"letterObjClip":"Letter_image_U","phoneticClip":"Letter_Phonic_U","mainAudioClip":"U Speech","imageName":"Owl","objectName":"ugle"},"v":{"count":0,"locked":true,"letterObjClip":"Letter_image_V","phoneticClip":"Letter_Phonic_V","mainAudioClip":"V Speech","imageName":"Violin","objectName":"violin"},"w":{"count":0,"locked":true,"letterObjClip":"Letter_image_W","phoneticClip":"Letter_Phonic_W","mainAudioClip":"W Speech","imageName":"Wigwam","objectName":"w igwam"},"x":{"count":0,"locked":true,"letterObjClip":"Letter_image_X","phoneticClip":"Letter_Phonic_X","mainAudioClip":"X Speech","imageName":"Xylophone","objectName":"xylofon"},"y":{"count":0,"locked":true,"letterObjClip":"Letter_image_Y","phoneticClip":"Letter_Phonic_Y","mainAudioClip":"Y Speech","imageName":"Yoyo","objectName":"yoyo"},"z":{"count":0,"locked":true,"letterObjClip":"Letter_image_Z","phoneticClip":"Letter_Phonic_Z","mainAudioClip":"Z Speech","imageName":"Zebra","objectName":"zebra"}}},{"Subject":"preschool","SubSubject":"123","LastSubmitted":"","Played":{"1":{"count":0,"locked":false,"mainAudioClip":"Number_count_last_01"},"2":{"count":0,"locked":false,"mainAudioClip":"Number_count_last_02"},"3":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_03"},"4":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_04"},"5":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_05"},"6":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_06"},"7":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_07"},"8":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_08"},"9":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_09"},"10":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_10"},"11":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_11"},"12":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_12"},"13":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_13"},"14":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_14"},"15":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_15"},"16":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_16"},"17":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_17"},"18":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_18"},"19":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_19"},"20":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_20"}}}]};
let json_en_us = {"balloonClicked":false,"LockedData":{"header":"Hey","body":"welcome to body","footer":"hello footer"},"Title":"it's learning time","LangCode":"en_us","MascotName":"BlueBird","Subjects":["ABC","123"],"GameData":[{"Subject":"preschool","SubSubject":"ABC","LastSubmitted":"","Played":{"a":{"count":0,"locked":false,"letterObjClip":"Letter_image_A","phoneticClip":"Letter_Phonic_A","mainAudioClip":"A Speech","imageName":"Apple","objectName":"apple"},"b":{"count":0,"locked":false,"letterObjClip":"Letter_image_B","phoneticClip":"Letter_Phonic_B","mainAudioClip":"B Speech","imageName":"Banana","objectName":"banana"},"c":{"count":0,"locked":true,"letterObjClip":"Letter_image_C","phoneticClip":"Letter_Phonic_C","mainAudioClip":"C Speech","imageName":"Cat","objectName":"cat"},"d":{"count":0,"locked":true,"letterObjClip":"Letter_image_D","phoneticClip":"Letter_Phonic_D","mainAudioClip":"D Speech","imageName":"Dog","objectName":"dog"},"e":{"count":0,"locked":true,"letterObjClip":"Letter_image_E","phoneticClip":"Letter_Phonic_E","mainAudioClip":"E Speech","imageName":"Egg","objectName":"egg"},"f":{"count":0,"locked":true,"letterObjClip":"Letter_image_F","phoneticClip":"Letter_Phonic_F","mainAudioClip":"F Speech","imageName":"Fish","objectName":"fish"},"g":{"count":0,"locked":true,"letterObjClip":"Letter_image_G","phoneticClip":"Letter_Phonic_G","mainAudioClip":"G Speech","imageName":"Glasses","objectName":"glasses"},"h":{"count":0,"locked":true,"letterObjClip":"Letter_image_H","phoneticClip":"Letter_Phonic_H","mainAudioClip":"H Speech","imageName":"Heart","objectName":"heart"},"i":{"count":0,"locked":true,"letterObjClip":"Letter_image_I","phoneticClip":"Letter_Phonic_I","mainAudioClip":"I Speech","imageName":"Icecream","objectName":"ice cream"},"j":{"count":0,"locked":true,"letterObjClip":"Letter_image_J","phoneticClip":"Letter_Phonic_J","mainAudioClip":"J Speech","imageName":"Jam","objectName":"jam"},"k":{"count":0,"locked":true,"letterObjClip":"Letter_image_K","phoneticClip":"Letter_Phonic_K","mainAudioClip":"K Speech","imageName":"Key","objectName":"key"},"l":{"count":0,"locked":true,"letterObjClip":"Letter_image_L","phoneticClip":"Letter_Phonic_L","mainAudioClip":"L Speech","imageName":"Lemon","objectName":"lemon"},"m":{"count":0,"locked":true,"letterObjClip":"Letter_image_M","phoneticClip":"Letter_Phonic_M","mainAudioClip":"M Speech","imageName":"Moon","objectName":"moon"},"n":{"count":0,"locked":true,"letterObjClip":"Letter_image_N","phoneticClip":"Letter_Phonic_N","mainAudioClip":"N Speech","imageName":"Nut","objectName":"nut"},"o":{"count":0,"locked":true,"letterObjClip":"Letter_image_O","phoneticClip":"Letter_Phonic_O","mainAudioClip":"O Speech","imageName":"Orange","objectName":"orange"},"p":{"count":0,"locked":true,"letterObjClip":"Letter_image_P","phoneticClip":"Letter_Phonic_P","mainAudioClip":"P Speech","imageName":"Pumpkin","objectName":"pumpkin"},"q":{"count":0,"locked":true,"letterObjClip":"Letter_image_Q","phoneticClip":"Letter_Phonic_Q","mainAudioClip":"Q Speech","imageName":"Queen","objectName":"queen"},"r":{"count":0,"locked":true,"letterObjClip":"Letter_image_R","phoneticClip":"Letter_Phonic_R","mainAudioClip":"R Speech","imageName":"Rainbow","objectName":"rainbow"},"s":{"count":0,"locked":true,"letterObjClip":"Letter_image_S","phoneticClip":"Letter_Phonic_S","mainAudioClip":"S Speech","imageName":"Snail","objectName":"snail"},"t":{"count":0,"locked":true,"letterObjClip":"Letter_image_T","phoneticClip":"Letter_Phonic_T","mainAudioClip":"T Speech","imageName":"Tomato","objectName":"tomato"},"u":{"count":0,"locked":true,"letterObjClip":"Letter_image_U","phoneticClip":"Letter_Phonic_U","mainAudioClip":"U Speech","imageName":"Umbrella","objectName":"umbrella"},"v":{"count":0,"locked":true,"letterObjClip":"Letter_image_V","phoneticClip":"Letter_Phonic_V","mainAudioClip":"V Speech","imageName":"Vase","objectName":"vase"},"w":{"count":0,"locked":true,"letterObjClip":"Letter_image_W","phoneticClip":"Letter_Phonic_W","mainAudioClip":"W Speech","imageName":"Watermelon","objectName":"watermelon"},"x":{"count":0,"locked":true,"letterObjClip":"Letter_image_X","phoneticClip":"Letter_Phonic_X","mainAudioClip":"X Speech","imageName":"Xylophone","objectName":"xylophone"},"y":{"count":0,"locked":true,"letterObjClip":"Letter_image_Y","phoneticClip":"Letter_Phonic_Y","mainAudioClip":"Y Speech","imageName":"Yellow","objectName":"yellow"},"z":{"count":0,"locked":true,"letterObjClip":"Letter_image_Z","phoneticClip":"Letter_Phonic_Z","mainAudioClip":"Z Speech","imageName":"Zebra","objectName":"zebra"}}},{"Subject":"preschool","SubSubject":"123","LastSubmitted":"","Played":{"1":{"count":0,"locked":false,"mainAudioClip":"Number_count_last_01"},"2":{"count":0,"locked":false,"mainAudioClip":"Number_count_last_02"},"3":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_03"},"4":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_04"},"5":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_05"},"6":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_06"},"7":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_07"},"8":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_08"},"9":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_09"},"10":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_10"},"11":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_11"},"12":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_12"},"13":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_13"},"14":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_14"},"15":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_15"},"16":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_16"},"17":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_17"},"18":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_18"},"19":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_19"},"20":{"count":0,"locked":true,"mainAudioClip":"Number_count_last_20"}}}]};
	
let mainData = json_da;
runOnStartup(async runtime =>
{
	// Code to run on the loading screen.
	// Note layouts, objects etc. are not yet available.
// 	document.addEventListener("unity data", (e) => {
// 		console.log("The unity data event is triggered");
// 		runtime.callFunction("OnUpdateData", [JSON.stringify(e.detail.data)]);
// 	});	
// 	document.addEventListener("mascot anim", () =>{
// 		console.log("The mascot event was triggered");
// 		runtime.callFunction("ShowMascotAnim")
// 	})	
			
	if(window.data){
		mainData = window.data;
		window.data = undefined;
		runtime.globalVars.JsonDataStr = JSON.stringify(mainData);
		const lockedData = mainData.LockedData;
// 		console.log(mainData.balloonClicked)
		if(mainData.balloonClicked==undefined) runtime.globalVars.IS_BALLOON_CLICKED = false; 
		else runtime.globalVars.IS_BALLOON_CLICKED = mainData.balloonClicked;
		mainData = undefined;	
		runtime.globalVars.IS_ANALYTICS = true;
		runtime.globalVars.IS_TESTING = false;	
		
		
		
		if(lockedData){
			console.log("lockedData: "+lockedData.header);	
			runtime.callFunction("SetSubscriptionDialogTexts", lockedData.header+"", lockedData.body+"", lockedData.footer+"");		
		}
		else{
			const lockedData = {"header": "Hello!", "body":"Subscribe to unlock all the letter and numbers","footer": ""};
			runtime.callFunction("SetSubscriptionDialogTexts", lockedData.header+"", lockedData.body+"", lockedData.footer+"");		
		}	
	}
	else{
	console.log("window.data is null");
	
		runtime.globalVars.JsonDataStr = JSON.stringify(mainData);
		runtime.globalVars.IS_ANALYTICS = true;
		runtime.globalVars.IS_TESTING = true;	
		if(mainData.balloonClicked==undefined) runtime.globalVars.IS_BALLOON_CLICKED = false; 
		else runtime.globalVars.IS_BALLOON_CLICKED = mainData.balloonClicked;
		const lockedData = mainData.LockedData;
		console.log("header:"+lockedData.header);
		mainData = undefined;
		window.data = undefined;
		if(lockedData){
			runtime.callFunction("SetSubscriptionDialogTexts", lockedData.header+"", lockedData.body+"", lockedData.footer+"");	
		}
		else{
			const lockedData = {"header": "Hello!", "body":"Subscribe to unlock all the letter and numbers","footer": ""};
			runtime.callFunction("SetSubscriptionDialogTexts", lockedData.header+"", lockedData.body+"", lockedData.footer+"");	
		}
	}




	runtime.addEventListener("beforeprojectstart", () => OnBeforeProjectStart(runtime));
});

async function OnBeforeProjectStart(runtime)
{

	/* Code to run just before 'On start of layout' on
	the first layout. Loading has finished and initial
	instances are created and available to use here. */
	
	//start
window.audioObjectType = runtime.objects.Audio;
	globalThis.audioContext = audioObjectType.audioContext;
	globalThis.destinationNode = audioObjectType.destinationNode;	
//end
	
	runtime.addEventListener("tick", () => Tick(runtime));
}


//
function Tick(runtime)
{
	// Code to run every tick
}

export function setAudioContextState(state){
console.log("set audio state:", state);
console.log("currentState::"+globalThis.audioContext.state)
	if(state.toLowerCase() == "suspend") globalThis.audioContext.suspend();
	else if(state.toLowerCase() == "resume") globalThis.audioContext.resume();
}


// // These functions are called by the button click events.
// export function PlaySound(name)
// {
// 	window.audios = audios;
// 	window.audiom = audioManager;
// 	console.log(audioManager);
// 	audioManager.playSound(audios[name]);
// }

// export function PlaySfxURL(name)
// {
// 	audioManager.playSound(name);
// }

// export function PlayMusic()
// {
// 	audioManager.playMusic(audioEpicArpg);
// }
